{"version":3,"sources":["itemview/foxli.js"],"names":["dealWithDataMethod","require","getClass","resault","props","data","cls","clsName","activated","disabled","li","fox","dealWithData","idf","_preRender","self","ref","k1","v1","k2","v2","sty","fill","data_attr","stateData","Object","keys","map","value","key","indexOf","item","ii","_props","id","style","className","call","React","Component","module","exports","Aotoo","wrap"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AAIA;AACA,IAAIA,qBAAqBC,QAAQ,4BAAR,CAAzB;;AAEA,SAASC,QAAT,CAAkBC,OAAlB,EAA2B;AAC1B,KAAMC,QAAQ,KAAKA,KAAnB;AACA,KAAMC,OAAOD,MAAMC,IAAnB;AACA,KAAIC,MAAMH,QAAQI,OAAlB;AACA,KAAIH,MAAMI,SAAV,EAAqB;AACpBF,SAAO,YAAP;AACA;AACD,KAAIF,MAAMK,QAAV,EAAoB;AACnBH,SAAO,WAAP;AACA;AACD,KAAID,IAAJ,EAAU;AACT,MAAIA,KAAKK,EAAT,EAAaJ,OAAO,WAAP;AACb;AACD,QAAOA,GAAP;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMK,G;;;AACL,cAAYP,KAAZ,EAAmB;AAAA;;AAAA,wGACZA,KADY;;AAElB,QAAKQ,YAAL,GAA0BZ,kBAA1B;AAFkB;AAGlB;;;;+BAEW;AACX,QAAKG,OAAL,GAAe,KAAKS,YAAL,CAAkB,KAAKR,KAAvB,CAAf;AACA,QAAKS,GAAL,GAAW,KAAKT,KAAL,CAAWS,GAAtB;AACA;;;2BAEO;AACP,QAAKC,UAAL;AACA,OAAMC,OAAO,IAAb;AAFO,kBAGyC,KAAKZ,OAH9C;AAAA,OAGFa,GAHE,YAGFA,GAHE;AAAA,OAGGC,EAHH,YAGGA,EAHH;AAAA,OAGOC,EAHP,YAGOA,EAHP;AAAA,OAGWC,EAHX,YAGWA,EAHX;AAAA,OAGeC,EAHf,YAGeA,EAHf;AAAA,OAGmBb,OAHnB,YAGmBA,OAHnB;AAAA,OAG4Bc,GAH5B,YAG4BA,GAH5B;AAAA,OAGiCC,IAHjC,YAGiCA,IAHjC;;AAIP,OAAIC,YAAY,EAAhB;;AAEA,OAAMC,YAAY,KAAKpB,KAAL,CAAWC,IAA7B;;AAEA,OAAI,QAAOmB,SAAP,yCAAOA,SAAP,MAAoB,QAAxB,EAAkC;AACjCC,WAAOC,IAAP,CAAYF,SAAZ,EAAuBG,GAAvB,CAA4B,eAAO;AAClC,SAAMC,QAAQJ,UAAUK,GAAV,CAAd;AACA,SAAIA,IAAIC,OAAJ,CAAY,OAAZ,IAAqB,CAAC,CAA1B,EAA6B;AAAEP,gBAAUM,GAAV,IAAiBD,KAAjB;AAAwB;AACvD,SAAIC,OAAK,MAAT,EAAiB;AAChBJ,aAAOC,IAAP,CAAYF,UAAU,MAAV,CAAZ,EAA+BG,GAA/B,CAAmC,UAASI,IAAT,EAAeC,EAAf,EAAkB;AACpD,WAAID,KAAKD,OAAL,CAAa,OAAb,KAAuB,CAA3B,EAA8B;AAC7BP,kBAAU,UAAQQ,IAAlB,IAA0BP,UAAU,MAAV,EAAkBO,IAAlB,CAA1B;AACA,QAFD,MAEO;AACNR,kBAAUQ,IAAV,IAAkBP,UAAU,MAAV,EAAkBO,IAAlB,CAAlB;AACA;AACD,OAND;AAOA;AACD,KAZD;AAaA;;AAED,OAAME,SAAS;AACd;AACAC,QAAIjB,EAFU;AAGZkB,WAAOd,GAHK;AAIZe,eAAWlC,SAASmC,IAAT,CAActB,IAAd,EAAoB,KAAKZ,OAAzB;AAJC,IAAf;AAMA,UAAO;AAAA;AAAA,iBAAQ8B,MAAR,EAAoBV,SAApB;AAAgCD;AAAhC,IAAP;AACA;;;;EA1CgBgB,MAAMC,S;;AA4CxBC,OAAOC,OAAP,GAAiBC,MAAMC,IAAN,CAAWhC,GAAX,CAAjB","file":"../../itemview/foxli.js","sourcesContent":["/**\nitemView\n放回 li 结构, 用于modules/list 调用，作为ul/li部分\n*/\n// const React = (typeof React != 'undefined' ? React : require('react'))\nvar dealWithDataMethod = require('./common/itemDealWithDataX')\n\nfunction getClass(resault) {\n\tconst props = this.props\n\tconst data = props.data\n\tlet cls = resault.clsName\n\tif (props.activated) {\n\t\tcls += ' activated'\n\t}\n\tif (props.disabled) {\n\t\tcls += ' disabled'\n\t}\n\tif (data) {\n\t\tif (data.li) cls += ' itemroot'\n\t}\n\treturn cls\n}\n\n// props: {\n// \tidf,\n// \tdata: [....],  item: {....}\n// \titemClass\n// }\n//\n// item: {\n// title:any,\n// url: 和title在一起，组成a，没有的话,title就是title\n// li:[], 会在 li下组成一个新的ul->li结构\n// img:[]/String,\n// body:[{title:any, url, li:[], k, v}],   k和v在一起变成 span span 结构\n// footer:[{like body}],\n// dot:[{like body}],\n// data-xxx:\"dom's attr\"\n// }\n\nclass fox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.dealWithData = this::dealWithDataMethod\n\t}\n\n\t_preRender(){\n\t\tthis.resault = this.dealWithData(this.props)\n\t\tthis.idf = this.props.idf\n\t}\n\n\trender(){\n\t\tthis._preRender()\n\t\tconst self = this\n\t\tlet {ref, k1, v1, k2, v2, clsName, sty, fill} = this.resault\n\t\tlet data_attr = {}\n\n\t\tconst stateData = this.props.data\n\n\t\tif (typeof stateData == 'object') {\n\t\t\tObject.keys(stateData).map( key => {\n\t\t\t\tconst value = stateData[key]\n\t\t\t\tif (key.indexOf('data-')>-1) { data_attr[key] = value }\n\t\t\t\tif (key=='attr') {\n\t\t\t\t\tObject.keys(stateData['attr']).map(function(item, ii){\n\t\t\t\t\t\tif (item.indexOf('data-')!=0) {\n\t\t\t\t\t\t\tdata_attr['data-'+item] = stateData['attr'][item]\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata_attr[item] = stateData['attr'][item]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst _props = {\n\t\t\t// ref: ref\n\t\t\tid: k1\n\t\t\t, style: sty\n\t\t\t, className: getClass.call(self, this.resault)\n\t\t}\n\t\treturn <li {..._props} {...data_attr}>{fill}</li>\n\t}\n}\nmodule.exports = Aotoo.wrap(fox);\n"]}