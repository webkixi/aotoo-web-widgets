{"version":3,"sources":["itemview/foxli.js"],"names":["dealWithDataMethod","require","getClass","resault","state","props","data","cls","clsName","className","li","fox","dealWithData","idf","parent","operate","_preRender","self","ref","k1","v1","k2","v2","sty","fill","data_attr","stateData","Object","keys","map","value","key","indexOf","item","ii","_props","id","style","call","React","Component","module","exports"],"mappings":";;;;;;;;AAKA;;AACA;;;;;;;;;;+eANA;;;;AAIA;;;AAGA,IAAIA,qBAAqBC,QAAQ,2BAAR,CAAzB;;AAEA,SAASC,QAAT,CAAkBC,OAAlB,EAA0B;AACzB,KAAMC,QAAQ,KAAKC,KAAnB;AACA,KAAMC,OAAOF,MAAME,IAAnB;AACA,KAAIC,MAAMJ,QAAQK,OAAlB;AACA,KAAIF,IAAJ,EAAU;AACT,MAAIA,KAAKG,SAAT,EAAoBF,MAAMD,KAAKG,SAAX;AACpB,MAAIH,KAAKI,EAAT,EAAaH,OAAO,WAAP;AACb;AACD,QAAOA,GAAP;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMI,G;;;AACL,cAAYN,KAAZ,EAAmB;AAAA;;AAAA,wGACZA,KADY;;AAElB,QAAKO,YAAL,GAA0BZ,kBAA1B;AAFkB;AAGlB;;;;+BAEW;AACX,QAAKG,OAAL,GAAe,KAAKS,YAAL,CAAkB,KAAKP,KAAvB,CAAf;AACA,QAAKQ,GAAL,GAAW,KAAKR,KAAL,CAAWQ,GAAtB;AACA,QAAKC,MAAL,GAAc,KAAKT,KAAL,CAAWU,OAAX,CAAmBD,MAAjC;AACA;;;2BAEO;AACP,QAAKE,UAAL;AACA,OAAMC,OAAO,IAAb;AAFO,kBAGyC,KAAKd,OAH9C;AAAA,OAGFe,GAHE,YAGFA,GAHE;AAAA,OAGGC,EAHH,YAGGA,EAHH;AAAA,OAGOC,EAHP,YAGOA,EAHP;AAAA,OAGWC,EAHX,YAGWA,EAHX;AAAA,OAGeC,EAHf,YAGeA,EAHf;AAAA,OAGmBd,OAHnB,YAGmBA,OAHnB;AAAA,OAG4Be,GAH5B,YAG4BA,GAH5B;AAAA,OAGiCC,IAHjC,YAGiCA,IAHjC;;AAIP,OAAIC,YAAY,EAAhB;;AAEA,OAAMC,YAAY,KAAKrB,KAAL,CAAWC,IAA7B;;AAEA,OAAI,QAAOoB,SAAP,yCAAOA,SAAP,MAAoB,QAAxB,EAAkC;AACjCC,WAAOC,IAAP,CAAYF,SAAZ,EAAuBG,GAAvB,CAA4B,eAAO;AAClC,SAAMC,QAAQJ,UAAUK,GAAV,CAAd;AACA,SAAIA,IAAIC,OAAJ,CAAY,OAAZ,IAAqB,CAAC,CAA1B,EAA6B;AAAEP,gBAAUM,GAAV,IAAiBD,KAAjB;AAAwB;AACvD,SAAIC,OAAK,MAAT,EAAiB;AAChBJ,aAAOC,IAAP,CAAYF,UAAU,MAAV,CAAZ,EAA+BG,GAA/B,CAAmC,UAASI,IAAT,EAAeC,EAAf,EAAkB;AACpD,WAAID,KAAKD,OAAL,CAAa,OAAb,KAAuB,CAA3B,EAA8B;AAC7BP,kBAAU,UAAQQ,IAAlB,IAA0BP,UAAU,MAAV,EAAkBO,IAAlB,CAA1B;AACA,QAFD,MAEO;AACNR,kBAAUQ,IAAV,IAAkBP,UAAU,MAAV,EAAkBO,IAAlB,CAAlB;AACA;AACD,OAND;AAOA;AACD,KAZD;AAaA;;AAED,OAAME,SAAS;AACdjB,SAAKA,GADS;AAEZkB,QAAIjB,EAFQ;AAGZkB,WAAOd,GAHK;AAIZd,eAAWP,SAASoC,IAAT,CAAcrB,IAAd,EAAoB,KAAKd,OAAzB,CAJC;AAKZ4B,SAAK,sBAAS,MAAT;AALO,IAAf;AAOA,UAAO;AAAA;AAAA,iBAAQI,MAAR,EAAoBV,SAApB;AAAgCD;AAAhC,IAAP;AACA;;;;EA5CgBe,MAAMC,S;;AA8CxBC,OAAOC,OAAP,GAAiB,0BAAK/B,GAAL,CAAjB","file":"../../itemview/foxli.js","sourcesContent":["/**\nitemView\n放回 li 结构, 用于modules/list 调用，作为ul/li部分\n*/\n// const React = (typeof React != 'undefined' ? React : require('react'))\nimport {_wrap as wrap} from 'react-combinex'\nimport uniqueId from 'lodash.uniqueid'\nvar dealWithDataMethod = require('./common/itemDealWithData')\n\nfunction getClass(resault){\n\tconst state = this.props\n\tconst data = state.data\n\tlet cls = resault.clsName\n\tif (data) {\n\t\tif (data.className) cls = data.className\n\t\tif (data.li) cls += ' itemroot'\n\t}\n\treturn cls\n}\n\n// props: {\n// \tidf,\n// \tdata: [....],  item: {....}\n// \titemClass\n// }\n//\n// item: {\n// title:any,\n// url: 和title在一起，组成a，没有的话,title就是title\n// li:[], 会在 li下组成一个新的ul->li结构\n// img:[]/String,\n// body:[{title:any, url, li:[], k, v}],   k和v在一起变成 span span 结构\n// footer:[{like body}],\n// dot:[{like body}],\n// data-xxx:\"dom's attr\"\n// }\n\nclass fox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.dealWithData = this::dealWithDataMethod\n\t}\n\n\t_preRender(){\n\t\tthis.resault = this.dealWithData(this.props)\n\t\tthis.idf = this.props.idf\n\t\tthis.parent = this.props.operate.parent\n\t}\n\n\trender(){\n\t\tthis._preRender()\n\t\tconst self = this\n\t\tlet {ref, k1, v1, k2, v2, clsName, sty, fill} = this.resault\n\t\tlet data_attr = {}\n\n\t\tconst stateData = this.props.data\n\n\t\tif (typeof stateData == 'object') {\n\t\t\tObject.keys(stateData).map( key => {\n\t\t\t\tconst value = stateData[key]\n\t\t\t\tif (key.indexOf('data-')>-1) { data_attr[key] = value }\n\t\t\t\tif (key=='attr') {\n\t\t\t\t\tObject.keys(stateData['attr']).map(function(item, ii){\n\t\t\t\t\t\tif (item.indexOf('data-')!=0) {\n\t\t\t\t\t\t\tdata_attr['data-'+item] = stateData['attr'][item]\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata_attr[item] = stateData['attr'][item]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst _props = {\n\t\t\tref: ref\n\t\t\t, id: k1\n\t\t\t, style: sty\n\t\t\t, className: getClass.call(self, this.resault)\n\t\t\t, key: uniqueId('fox_')\n\t\t}\n\t\treturn <li {..._props} {...data_attr}>{fill}</li>\n\t}\n}\nmodule.exports = wrap(fox);\n"]}