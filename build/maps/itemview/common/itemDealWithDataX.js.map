{"version":3,"sources":["itemview/common/itemDealWithDataX.js"],"names":["cloneDeep","$Aotoo","merge","uniqueId","isPlainObject","filter","itemrootCkb","mapKeys","obj","cb","keys","Object","map","item","ii","validSingleItem","title","React","isValidElement","sortObject","sortsKey","sorts","nomatch","__sorts","__nomatch","result","accessSortsKeys","forEach","key","indexOf","blankUrl","url","re","test","replace","lazyimg","img","idf","__img","_url","_attr","dataAttrs","attributs","jj","length","k","attr","cloneElement","tmp","split","normalItem","li","dealWithLi","prop_li","liClassName","lis","Array","isArray","li_item","li_i","_item","_liItem","_props","className","createElement","data_attr","value","itemClass","push","ItemPart","index","cls","type","i","__bodys","__cls","__key","caption","text","itemStyle","style","subItem","temp","tmp_img","__imgs","pic","j","call","v","property_ul_className","liClass","dataAttr","dealWithData","state","clsName","sty","wid","_state","data","hoc","items","sortMyHead","k2","undefined","k4","liDom","body","footer","dot","bodys","footers","dots","headerDom","bodyDom","footerDom","dotDom","__keys","ref","foxref","k1","id","v1","catName","model","quality","vender","v2","k3","v3","v4","content","tmp_k2","__type","len","concat","sortDom","fill","module","exports"],"mappings":"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","file":"../../../itemview/common/itemDealWithDataX.js","sourcesContent":["const cloneDeep = $Aotoo.cloneDeep\nconst merge = $Aotoo.merge\nconst uniqueId = $Aotoo.uniqueId\nconst isPlainObject = $Aotoo.isPlainObject\nconst filter = $Aotoo.filter\nconst itemrootCkb = <input type='checkbox' className='itemrootCkb'/>\n\nvar mapKeys = function(obj, cb){\n  const keys = Object.keys(obj)\n  return keys.map(function(item, ii){\n    cb(obj[item], item)\n  })\n}\n\nfunction validSingleItem(title) {\n  return typeof title == 'string' || typeof title == 'number' || React.isValidElement(title)\n}\n\nfunction sortObject(obj, sortsKey) {\n  var sorts = []\n  var nomatch = []\n  var __sorts = {}\n  var __nomatch = {}\n  var result\n  if (isPlainObject(obj)) {\n    const accessSortsKeys = sortsKey || ['title', 'img', 'li']\n    Object.keys(obj).forEach(function (key, ii) {\n      if (accessSortsKeys.indexOf(key) > -1) {\n        // sorts.push(key)\n        __sorts[ii] = key\n      } else {\n        // nomatch.push(key)\n        __nomatch[ii] = key\n      }\n    })\n    // return sorts\n    return __sorts\n  }\n}\n\nfunction blankUrl(url) {\n  var re = /^__ */g\n  if (url && re.test(url)) {\n    return url.replace(re, '')\n  }\n}\n\nfunction lazyimg(img, idf){\n  if (React.isValidElement(img)) {\n    return img\n  }\n  if (isPlainObject(img)) {\n    var __img = {}\n    var _url\n    var _attr\n    var result\n    var dataAttrs = {}\n    var attributs = ['title', 'src', 'alt', 'url', 'className', 'attr']\n    for( var jj=0; jj<attributs.length; jj++) {\n      var key = attributs[jj]\n      if (img[key]) {\n        if (key == 'attr') {\n          if (isPlainObject(img['attr'])) {\n            Object.keys(img['attr']).forEach(function(k, ii) {\n              dataAttrs['data-'+k] = img['attr'][k]\n            })\n          }\n        } \n        else if (key == 'url') {\n          _url = blankUrl(img.url)\n        }\n        else {\n          __img[key] = img[key]\n        }\n      }\n    }\n    result = <img {...img} />\n    if (img.url) {\n      result = _url ? <a href={_url} target=\"_blank\">{result}</a> : <a href={img.url}>{result}</a>\n    }\n    if (img.attr) {\n      result = React.cloneElement(result, { ...dataAttrs })\n    }\n    return result\n  } else {\n    if (img.indexOf('$$$')>-1){\n      var tmp = img.split('$$$')\n      if (tmp.length===2){\n        if (idf||idf==0) return <li key={'img'+idf} className='himg-item lazyimg'><img data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/></li>\n        return <img className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/>\n      }\n    }\n    else{\n      if (idf||idf==0) return <li data-iid={idf} key={'img'+idf} className=\"himg-item\" ><img data-imgsrc={img} src={img}/></li>\n      return <img className=\"himg\" data-imgsrc={img} src={img}/>\n    }\n  }\n}\n\n// 处理title及url\n// 处理li的相关数据\nfunction normalItem(obj){\n  let title\n  if (typeof obj == 'string' || typeof obj == 'number' || React.isValidElement(obj)) {\n    title = obj\n  } else {\n    if (isPlainObject(obj)) {\n      title = obj.title\n\n      if (typeof title === 'string' || typeof title === 'number') {\n        if (typeof obj.url == 'string') {\n          var _url = blankUrl(obj.url)\n          title = _url ? <a className='htitle' href={_url} target=\"_blank\">{obj.title}</a> : <a className='htitle' href={obj.url} >{obj.title}</a>\n        }\n      }\n\n      if (obj.li) {\n        title = (\n          <div className='itemCategory'>\n            {itemrootCkb}\n            <div className=\"caption\">{title}</div>\n            {dealWithLi(obj.li)}\n          </div>\n        )\n      }\n    }\n  }\n  return title\n}\n\nfunction dealWithLi(prop_li, liClassName='property-ul'){\n  var lis = []\n  if(Array.isArray(prop_li)){\n    prop_li.map(function(li_item, li_i){\n      if (typeof li_item != 'object') {\n        li_item = {title: li_item}\n      }\n      var _item = normalItem(li_item);\n      var _liItem;\n      var _props = { \"key\": uniqueId('li-') }\n      if (Array.isArray(li_item)){\n         _props.className = \"nextLevel2\";\n         _liItem = React.createElement('li', _props, _item)\n      } else {\n        if (isPlainObject(li_item.attr)){\n          let data_attr = {};\n          mapKeys(li_item.attr, function(value, key) {\n            if (key.indexOf('data-')>-1) data_attr[key] = value;\n            else {\n              switch (key) {\n                case 'className':\n                  data_attr['className'] = value\n                break;\n                case 'style':\n                  data_attr['style'] = value\n                break;\n                default:\n                  data_attr['data-'+key] = value;\n              }\n            }\n          });\n          _props = merge(_props, data_attr);\n        }\n        if (li_item.li) {   // itemroot\n          _props.className = li_item.itemClass ? li_item.itemClass+' itemroot' : 'itemroot'\n        } else {\n          _props.className = li_item.itemClass ? li_item.itemClass : ''\n        }\n        _liItem = React.createElement('li', _props, _item)\n      }\n      lis.push(_liItem)\n    })\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n  else{\n    lis.push(<li key={'li-'+li_i}>{prop_li}</li>)\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n}\n\nfunction ItemPart(item, index, key, cls, type) {\n  var i = index\n  var __bodys\n  var __cls = cls\n  var __key = key\n  if (typeof item === 'string' || typeof item === 'number') {\n    __bodys = item\n  }\n\n  if (isPlainObject(item)) {\n    if (React.isValidElement(item)) {\n      __bodys = React.cloneElement(item, { key: __key })\n    } else {\n      var title = item.title || item.caption || item.text;\n      var itemClass = item.itemClass || item.className\n      var itemStyle = item.itemStyle || item.style\n      var attr = item.attr\n      __cls = item.caption ? __cls + ' caption' : __cls;\n      __cls = itemClass ? __cls + ' ' + itemClass : __cls\n\n      if (validSingleItem(title) && typeof item.url === 'string') {\n        var _url = blankUrl(item.url)\n        title = _url ? <a className={'htitle'} href={_url} target=\"_blank\">{title}</a> : <a className={'htitle'} href={item.url}>{title}</a>\n      }\n\n      var subItem = (function () {\n        var tmp, temp, tmp_img, __imgs\n\n        if (item.img) {\n          if (Array.isArray(item.img)) {\n            __imgs = item.img.map(function(pic, j) {\n              return lazyimg.call(null, pic, j);\n            });\n            tmp_img = <ul className=\"himg\">{__imgs}</ul>\n          } else {\n            tmp_img = lazyimg.call(null, item.img);\n          }\n        }\n\n        if (item.k) {  //k v结构\n          tmp = <div key={__key} data-pid={i} className={__cls}>{title}{tmp_img}{item.k}{item.v}</div>\n        }\n\n        if (item.li) {  //li结构\n          let property_ul_className = 'property-ul'\n          if (item.liClass || item.liClassName) {\n            property_ul_className += ' ' + (item.liClass || item.liClassName)\n          }\n          var lis = dealWithLi(item.li, property_ul_className)\n          tmp = <div key={__key} className={__cls}>{title}{tmp_img}{lis}</div>\n        }\n\n        if (tmp) {\n          temp = tmp\n        }\n\n        if (typeof title == 'string') {\n          temp = title\n        }\n\n        if (React.isValidElement(title)) {\n          temp = React.cloneElement(title, { key: __key })\n        }\n\n        if (typeof temp == 'string') return temp\n        else {\n          if (isPlainObject(itemStyle)) {\n            temp = React.cloneElement(temp, {style: itemStyle})\n          }\n\n          if (isPlainObject(attr)) {\n            var dataAttr = {}\n            Object.keys(attr).forEach(function(key, ii) {\n              dataAttr['data-'+key] = attr[key]\n            })\n            temp = React.cloneElement(temp, { ...dataAttr })\n          }\n          \n          return temp\n        }\n      })()\n      \n      __bodys = subItem\n    }\n  }\n  return __bodys\n}\n\n/*\n* 数据处理部分\n* f_div / f_li 的公共数据处理部分\n*/\nfunction dealWithData(state){\n   var clsName = \"item\";\n   var itemStyle = '';\n   var sty = {};\n   var wid = '';\n   const _state = state\n   var data = _state.data\n   var hoc = _state.hoc\n   var items = [];\n\n   if(_state.itemClass) clsName = \"item \"+_state.itemClass\n\n   if(data){\n     if(!Array.isArray(data)){\n       var body;\n       var footer;\n       var dot;\n\n       var bodys = []\n       var footers = []\n       var dots = []\n\n       var headerDom;\n       var bodyDom;\n       var footerDom;\n       var dotDom;\n       var liDom;\n\n       var __keys = [];\n       var __sorts = [];\n\n       if (typeof data == 'string' || typeof data== 'number' || React.isValidElement(data)) {\n         data = {title: data}\n       }\n\n       if(data.itemClass) clsName = \"item \"+data.itemClass\n       if(data.itemStyle){\n         sty = data.itemStyle;\n       }\n\n      //  var ref = data.foxref\n       var ref = _state.foxref\n       var k1 = data.id||'',\n         v1 = data.url||'javascript:void();',\n         k2 = data.title||data.caption||data.catName||data.text||data.model||data.quality||data.vender||'',\n         v2 = data.attr||'',\n         k3, v3 = data.value||'',\n         k4, v4 = data.content\n\n       if (data.url) {\n        var _url = blankUrl(data.url)\n        k2 = _url ? <a className='htitle' href={_url} target=\"_blank\">{k2}</a> : <a className='htitle' href={data.url}>{k2}</a>\n       }\n\n       if(data.li){\n         let property_ul_className = 'property-ul'\n         if (data.liClassName) {\n           property_ul_className += ' ' + data.liClassName\n         }\n         k3 = dealWithLi(data.li, property_ul_className)\n       }\n\n       if(data.img){\n         if(Array.isArray(data.img)){\n           var tmp_k2 = [];\n           tmp_k2 = data.img.map( (pic,j) => lazyimg.call({hoc: hoc}, pic, j) )\n           k4 = <ul className=\"himg\">{tmp_k2}</ul>;\n          //  k4 = k2 = <ul className=\"himg\">{tmp_k2}</ul>;\n         } else{\n           k4 = lazyimg.call({hoc: hoc}, data.img)\n         }\n       }\n\n       if(data.body){\n         body = data.body;\n         if(!Array.isArray(body)) body = [ body ]\n         body.map(function(item,i){\n           var __key = 'body_'+i\n           var __cls = 'hb-item'\n           var __type = 'body'\n           bodys.push( ItemPart(item, i, __key, __cls, __type) )\n         })\n       }\n\n       if(data.footer){\n           footer = data.footer;\n           if(!Array.isArray(footer)) footer = [ footer ]\n           footer.map(function(item,i){\n             var __key = 'footer_' + i\n             var __cls = 'hf-item'\n             var __type = 'footer'\n             footers.push( ItemPart(item, i, __key, __cls, __type) )\n           })\n       }\n\n       if(data.dot){\n           dot = data.dot;\n           if(!Array.isArray(dot)) dot = [ dot ]\n           dot.map(function(item,i){\n             var __key = 'dot_' + i\n             var __cls = 'hd-item dot'\n             var __type = 'dot'\n             dots.push( ItemPart(item, i, __key, __cls, __type) )\n           })\n       }\n\n       if (k3) liDom = k3\n\n       if (isPlainObject(data)) {\n         __sorts = []\n         const accessSortsKeys = ['title', 'img', 'li']\n         Object.keys(data).forEach( function(key, ii){\n           if (accessSortsKeys.indexOf(key)>-1) __sorts.push(key)\n         })\n\n         const len = __sorts.length\n         if (len) {\n           if (len == 1) __sorts = __sorts.concat([undefined, undefined])\n           if (len ==2) __sorts = __sorts.concat(undefined)\n         } else {\n           __sorts = [undefined, undefined, undefined]\n         }\n       }\n\n       // 排序header的三个部件，title, img, li\n       function sortMyHead(){\n         return __sorts.map(function(item) { \n           switch (item) {\n             case 'title':\n               return k2 ? k2 : undefined\n               break;\n             case 'img':\n               return k4 ? k4 : undefined\n               break;\n             case 'li':\n               return liDom ? liDom : undefined\n               break;\n            }\n         })\n       }\n\n       if (k2 || k3 || k4) {\n         const sortDom = sortMyHead()\n         headerDom = (\n           <div className={\"hheader\"}>\n             {sortDom[0]}\n             {sortDom[1]}\n             {sortDom[2]}\n           </div>\n         )\n       }\n\n      //  if(k2 || k3 || k4){\n      //    headerDom = liDom\n      //    ? (data.img && Array.isArray(data.img)\n      //      ? <div className={\"hheader\"}>{k2}{liDom}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}{k4}{liDom}</div>)\n      //    : (data.img\n      //      ? <div className={\"hheader\"}>{k2}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}</div>)\n      //  }\n\n       if(bodys.length){\n         bodyDom = data.img && Array.isArray(data.img)\n         ? <div className={'hbody rebody'}>{bodys}</div>\n         : <div className={'hbody'}>{bodys}</div>\n       }\n\n       if(footers.length) footerDom = <div className={'hfoot'}>{footers}</div>\n       if(dots.length) dotDom = dots\n     }\n   }\n\n\n   var fill = Array.isArray(data)\n   ? items\n   : (\n      ( k4 || (bodyDom || footerDom || dotDom) )\n      ? <div className={'inner'}>{headerDom}{bodyDom}{footerDom}{dotDom}</div>\n      : liDom\n        ? k2\n          ? ( React.isValidElement(k2)\n            ? <div className=\"itemCategory\">{itemrootCkb}{k2}{liDom}</div>\n            : <div className=\"itemCategory\">{itemrootCkb}<span className=\"caption\">{k2}</span>{liDom}</div> )\n          : liDom\n        : k2\n     )\n\n   return {\n     ref: ref,\n     k1: k1,\n     v1: v1,\n     k2: k2,\n     v2: v2,\n     clsName: clsName,\n     sty: sty,\n     fill: fill\n   }\n}\n\nmodule.exports = dealWithData;\n"]}