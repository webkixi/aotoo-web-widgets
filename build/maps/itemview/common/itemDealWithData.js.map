{"version":3,"sources":["itemview/common/itemDealWithData.js"],"names":["cloneDeep","Aotoo","merge","uniqueId","mapKeys","obj","cb","keys","Object","map","item","ii","isPlainObject","Array","isArray","itemrootCkb","lazyimg","img","idf","hoc","indexOf","tmp","split","length","normalItem","React","isValidElement","dealWithLi","title","url","li","_title","prop_li","liClassName","lis","li_item","li_i","_item","_liItem","_props","className","createElement","attr","data_attr","value","key","itemClass","push","dealWithData","state","clsName","itemStyle","sty","wid","_state","data","items","body","footer","dot","bodys","footers","dots","headerDom","bodyDom","footerDom","dotDom","liDom","ref","foxref","k1","id","v1","k2","caption","catName","text","model","quality","vender","v2","k3","v3","k4","v4","content","target","tmp_k2","pic","j","call","i","cls","props","type","ppp","k","v","it","styl","style","children","lft","top","botm","rht","position","left","bottom","right","kkk","price","fill","module","exports"],"mappings":"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","file":"../../../itemview/common/itemDealWithData.js","sourcesContent":["const cloneDeep = Aotoo.cloneDeep\nconst merge = Aotoo.merge\nconst uniqueId = Aotoo.uniqueId\n\nvar mapKeys = function(obj, cb){\n  const keys = Object.keys(obj)\n  return keys.map(function(item, ii){\n    cb(obj[item], item)\n  })\n}\n\nvar isPlainObject = function(obj){\n  if (typeof obj == 'object') {\n    return !Array.isArray(obj)\n  }\n}\n\nconst itemrootCkb = <input type='checkbox' className='itemrootCkb'/>\n\nfunction lazyimg(img, idf){\n  const hoc = this.hoc || []\n  if ( hoc.indexOf('scroll') >-1 ){\n    if (img.indexOf('$$$')>-1){\n      var tmp = img.split('$$$')\n      if (tmp.length===2){\n        if (idf) return <li key={'img'+idf} className='himg-item lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} />\n        return <div className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]}/>\n      }\n    }\n    else{\n      if (idf) return <li data-iid={idf} key={'img'+idf} className=\"himg-item lazyimg\" data-imgsrc={img}></li>\n      return <div className=\"himg lazyimg\" data-imgsrc={img} ></div>\n    }\n  }\n  if (img.indexOf('$$$')>-1){\n    var tmp = img.split('$$$')\n    if (tmp.length===2){\n      if (idf) return <li key={'img'+idf} className='himg-item'><img data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/></li>\n      return <img className='himg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/>\n    }\n  }\n  else{\n    if (idf) return <li data-iid={idf} key={'img'+idf} className=\"himg-item\" ><img data-imgsrc={img} src={img}/></li>\n    return <img className=\"himg\" data-imgsrc={img} src={img}/>\n  }\n}\n\n// 处理title及url\n// 处理li的相关数据\nfunction normalItem(obj){\n  if (typeof obj === 'string' || typeof obj === 'number' || React.isValidElement(obj)) return obj\n  else if (Array.isArray(obj)){\n    return dealWithLi(obj)\n  } else {\n    if (obj.title){\n      let title = obj.title\n      if (obj.url && (typeof title == 'string' || typeof title == 'number')) {\n        title = <a className='htitle' href={obj.url} >{obj.title}</a>\n      }\n      if (obj.li){\n        let _title = title\n        if (typeof title == 'string' || typeof title == 'number') {\n          _title = <span className=\"caption\">{title}</span>\n        }\n        title = (\n          <div className='itemCategory'>\n            {itemrootCkb}\n            {_title}\n            {dealWithLi(obj.li)}\n          </div>\n        )\n      }\n      return title;\n    }\n    else if (obj.li) return dealWithLi(obj.li)\n    return '';\n  }\n}\n\nfunction dealWithLi(prop_li, liClassName){\n  var lis = []\n  if(Array.isArray(prop_li)){\n    prop_li.map(function(li_item, li_i){\n      var _item = normalItem(li_item);\n      var _liItem;\n      var _props = { \"key\": uniqueId('li-') }\n      if (Array.isArray(li_item)){\n         _props.className = \"nextLevel2\";\n         _liItem = React.createElement('li', _props, _item)\n      } else {\n        if (isPlainObject(li_item.attr)){\n          let data_attr = {};\n          mapKeys(li_item.attr, function(value, key) {\n            if (key.indexOf('data-')>-1) data_attr[key] = value;\n            else {\n              switch (key) {\n                case 'className':\n                  data_attr['className'] = value\n                break;\n                case 'style':\n                  data_attr['style'] = value\n                break;\n                default:\n                  data_attr['data-'+key] = value;\n              }\n            }\n          });\n          _props = merge(_props, data_attr);\n        }\n        if (li_item.li) {   // itemroot\n          _props.className = li_item.itemClass ? li_item.itemClass+' itemroot' : 'itemroot'\n        } else {\n          _props.className = li_item.itemClass ? li_item.itemClass : ''\n        }\n        _liItem = React.createElement('li', _props, _item)\n      }\n      lis.push(_liItem)\n    })\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n  else{\n    lis.push(<li key={'li-'+li_i}>{prop_li}</li>)\n    return <ul>{lis}</ul>\n  }\n}\n\n/*\n* 数据处理部分\n* f_div / f_li 的公共数据处理部分\n*/\nfunction dealWithData(state){\n   var clsName = \"item\";\n   var itemStyle = '';\n   var sty = {};\n   var wid = '';\n   const _state = state\n   var data = _state.data\n   var hoc = _state.hoc\n   var items = [];\n\n   if(_state.itemClass) clsName = \"item \"+_state.itemClass\n\n   if(data){\n     if(!Array.isArray(data)){\n       var body;\n       var footer;\n       var dot;\n\n       var bodys = []\n       var footers = []\n       var dots = []\n\n       var headerDom;\n       var bodyDom;\n       var footerDom;\n       var dotDom;\n       var liDom;\n\n       if (typeof data == 'string' || typeof data== 'number' || React.isValidElement(data)) {\n         data = {title: data}\n       }\n\n       if(data.itemClass) clsName = \"item \"+data.itemClass\n       if(data.itemStyle){\n        //  clsName = 'item';\n         sty = data.itemStyle;\n       }\n\n      //  var ref = data.foxref\n       var ref = _state.foxref\n       var k1 = data.id||'',\n         v1 = data.url||'javascript:void();',\n        //  k2 = data.title||data.caption||data.catName||data.text||\n        //      data.model||data.quality||data.vender||\n        //      (typeof data==='string'||typeof data==='number'||React.isValidElement(data)?data:'')||'',\n         k2 = data.title||data.caption||data.catName||data.text||data.model||data.quality||data.vender||'',\n         v2 = data.attr||'',\n         k3, v3 = data.value||'',\n         k4, v4 = data.content\n\n       if (data.url) {\n        //  k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        k2 = <a className='htitle' href={v1}>{k2}</a>\n        if (data.target) {\n          k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        }\n       }\n\n       if(data.li){\n         k3 = dealWithLi(data.li, data.liClassName)\n       }\n\n       if(data.img){\n         if(Array.isArray(data.img)){\n           var tmp_k2 = [];\n           tmp_k2 = data.img.map( (pic,j) => lazyimg.call({hoc: hoc}, pic, j) )\n           k4 = <ul className=\"himg\">{tmp_k2}</ul>;\n          //  k4 = k2 = <ul className=\"himg\">{tmp_k2}</ul>;\n         } else{\n           k4 = lazyimg.call({hoc: hoc}, data.img)\n         }\n       }\n\n       if(data.body){\n         body = data.body;\n         if(!Array.isArray(body)) body = [ body ]\n\n         body.map(function(item,i){\n           if(typeof item==='string'|| typeof item==='number'){\n             bodys.push(<div data-pid={i} key={'body_'+i}>{item}</div>)\n           }\n           if(isPlainObject(item)){\n             var cls = item.caption?'hb-item caption':'hb-item';\n             if(!React.isValidElement(item)){\n               var title = item.title||item.caption||item.text;\n               if (React.isValidElement(title)) {\n                 let props = cloneDeep(title.props)\n                 props.key = 'body_'+i\n                 title = React.createElement(title.type, props)\n               }\n               else\n               if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                 title = <a className='htitle' href={item.url} key={'body_'+i}>{title}</a>\n               }\n\n               var ppp = (function(){\n                 if (item.k){  //k v结构\n                   return  <div key={'bodyk-'+i} data-pid={i} className={cls}>{title}{item.k}{item.v}</div>\n                 }\n                 if (item.li){  //li结构\n                   var lis = dealWithLi(item.li)\n                   return <div key={'bodyul-'+i} className={cls}>{title}{lis}</div>\n                 }\n                 return title\n               })()\n               bodys.push(ppp)\n             }else{\n               let props = merge({}, item.props)\n               props.key = 'bodyitem_'+i\n               bodys.push(React.createElement(item.type, props))\n             }\n           }\n         })\n       }\n\n       if(data.footer){\n           footer = data.footer;\n           if(!Array.isArray(footer)) footer = [ footer ]\n\n           footer.map(function(item,i){\n             if(typeof item==='string'|| typeof item==='number'){\n               footers.push(<div data-pid={i} key={'footer'+i}>{item}</div>)\n             }\n             if(isPlainObject(item)){\n                 var cls = item.caption?'hf-item caption':'hf-item';\n                 if(!React.isValidElement(item)){\n                   var title = item.title||item.caption||item.text;\n                   if (React.isValidElement(title)) {\n                     let props = cloneDeep(title.props)\n                     props.key = 'footer_'+i\n                     title = React.createElement(title.type, props)\n                   }\n                   else\n                   if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n\n                   //attr定义一些特殊的状态\n                   var ppp = (function(){\n                     if (item.k) { //k v结构\n                       return <div data-pid={i} key={'footer'+i} className={cls}>{title}{item.k}{item.v}</div>\n                     }\n                     if (item.li){  //li结构\n                       var lis = dealWithLi(item.li)\n                       return <div key={'footerul'+i} className={cls}>{title}{lis}</div>\n                     }\n                     return title\n                   })()\n                   footers.push(ppp)\n                 }else{\n                   let props = merge({}, item.props)\n                   props.key = 'footer_'+i\n                   footers.push(React.createElement(item.type, props))\n                 }\n             }\n           })\n       }\n\n       if(data.dot){\n           dot = data.dot;\n           if(!Array.isArray(dot)) dot = [ dot ]\n\n           dot.map(function(item,i){\n               if(typeof item==='string'|| typeof item==='number'){\n                 dots.push(<div key={'dot-'+i} data-did={i} key={'dot'+i} className={'dot'}>{item}</div>)\n               }\n               if(isPlainObject(item)){\n                 if(React.isValidElement(item)){\n                   var it = item;\n                   var props = cloneDeep(it.props)\n                   var styl = props.style;\n                   delete props.style;\n                   var tmp = React.createElement(it.type, props, it.props.children)\n                   dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}>{tmp}</div>)\n                 }\n                 else {\n                   var lft, top, botm, rht;\n                   if(item.position){\n                     lft = item.position.left\n                     top = item.position.top\n                     botm = item.position.bottom\n                     rht = item.position.right\n                   }\n\n                   var styl = (function(){\n                     var kkk = {}\n                       lft ? kkk.left = lft : '';\n                       top ? kkk.top  = top : '';\n                       botm ? kkk.bottom = botm : '';\n                       rht ? kkk.right = rht : '';\n                       return kkk;\n                   })()\n\n                   var title = item.title||item.caption||item.text||item.price;\n                   if (title &&\n                     typeof title==='string' &&\n                     item.url &&\n                     typeof item.url==='string'\n                   ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n                   if(title){\n                     dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}><div>{title}</div></div>)\n                   }\n                 }\n               }\n           })\n       }\n\n       if (k3) liDom = k3\n\n       if(k2 || k3 || k4){\n         headerDom = liDom\n         ? (data.img && Array.isArray(data.img)\n           ? <div className={\"hheader\"}>{k2}{liDom}{k4}</div>\n           : <div className={\"hheader\"}>{k2}{k4}{liDom}</div>)\n         : (data.img\n           ? <div className={\"hheader\"}>{k2}{k4}</div>\n           : <div className={\"hheader\"}>{k2}</div>)\n       }\n\n       if(bodys.length){\n         bodyDom = data.img && Array.isArray(data.img)\n         ? <div className={'hbody rebody'}>{bodys}</div>\n         : <div className={'hbody'}>{bodys}</div>\n       }\n\n       if(footers.length) footerDom = <div className={'hfoot'}>{footers}</div>\n       if(dots.length) dotDom = dots\n     }\n   }\n\n\n   var fill = Array.isArray(data)\n   ? items\n   : (\n      ( k4 || (bodyDom || footerDom || dotDom) )\n      ? <div className={'inner'}>{headerDom}{bodyDom}{footerDom}{dotDom}</div>\n      : liDom\n        ? k2\n          ? ( React.isValidElement(k2)\n            ? <div className=\"itemCategory\">{itemrootCkb}{k2}{liDom}</div>\n            : <div className=\"itemCategory\">{itemrootCkb}<span className=\"caption\">{k2}</span>{liDom}</div> )\n          : liDom\n        : k2\n     )\n\n   return {\n     ref: ref,\n     k1: k1,\n     v1: v1,\n     k2: k2,\n     v2: v2,\n     clsName: clsName,\n     sty: sty,\n     fill: fill\n   }\n}\n\nmodule.exports = dealWithData;\n"]}