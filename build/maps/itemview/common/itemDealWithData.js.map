{"version":3,"sources":["itemview/common/itemDealWithData.js"],"names":["cloneDeep","Aotoo","merge","uniqueId","isPlainObject","filter","mapKeys","obj","cb","keys","Object","map","item","ii","itemrootCkb","lazyimg","img","idf","indexOf","tmp","split","length","normalItem","title","React","isValidElement","url","li","dealWithLi","prop_li","liClassName","lis","Array","isArray","li_item","li_i","_item","_liItem","_props","className","createElement","attr","data_attr","value","key","itemClass","push","dealWithData","state","clsName","itemStyle","sty","wid","_state","data","hoc","items","sortMyHead","__sorts","k2","undefined","k4","liDom","body","footer","dot","bodys","footers","dots","headerDom","bodyDom","footerDom","dotDom","__keys","ref","foxref","k1","id","v1","caption","catName","text","model","quality","vender","v2","k3","v3","v4","content","target","property_ul_className","tmp_k2","pic","j","call","i","cls","cloneElement","ppp","k","v","props","type","it","styl","style","lft","top","botm","rht","position","left","bottom","right","kkk","price","accessSortsKeys","forEach","len","concat","sortDom","fill","module","exports"],"mappings":"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","file":"../../../itemview/common/itemDealWithData.js","sourcesContent":["const cloneDeep = Aotoo.cloneDeep\nconst merge = Aotoo.merge\nconst uniqueId = Aotoo.uniqueId\nconst isPlainObject = Aotoo.isPlainObject\nconst filter = Aotoo.filter\n\nvar mapKeys = function(obj, cb){\n  const keys = Object.keys(obj)\n  return keys.map(function(item, ii){\n    cb(obj[item], item)\n  })\n}\n\n// var isPlainObject = function(obj){\n//   if (typeof obj == 'object') {\n//     return !Array.isArray(obj)\n//   }\n// }\n\nconst itemrootCkb = <input type='checkbox' className='itemrootCkb'/>\n\nfunction lazyimg(img, idf){\n  // const hoc = this.hoc || []\n  // if ( hoc.indexOf('scroll') >-1 ){\n  //   if (img.indexOf('$$$')>-1){\n  //     var tmp = img.split('$$$')\n  //     if (tmp.length===2){\n  //       if (idf) return <li key={'img'+idf} className='himg-item lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} />\n  //       return <div className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]}/>\n  //     }\n  //   }\n  //   else{\n  //     if (idf) return <li data-iid={idf} key={'img'+idf} className=\"himg-item lazyimg\" data-imgsrc={img}></li>\n  //     return <div className=\"himg lazyimg\" data-imgsrc={img} ></div>\n  //   }\n  // }\n  if (img.indexOf('$$$')>-1){\n    var tmp = img.split('$$$')\n    if (tmp.length===2){\n      if (idf||idf==0) return <li key={'img'+idf} className='himg-item lazyimg'><img data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/></li>\n      return <img className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/>\n    }\n  }\n  else{\n    if (idf||idf==0) return <li data-iid={idf} key={'img'+idf} className=\"himg-item\" ><img data-imgsrc={img} src={img}/></li>\n    return <img className=\"himg\" data-imgsrc={img} src={img}/>\n  }\n}\n\n// 处理title及url\n// 处理li的相关数据\nfunction normalItem(obj){\n  let title\n  if (typeof obj == 'string' || typeof obj == 'number' || React.isValidElement(obj)) {\n    title = obj\n  } else {\n    if (isPlainObject(obj)) {\n      title = obj.title\n\n      if (typeof title === 'string' || typeof title === 'number') {\n        if (typeof obj.url == 'string') {\n          title = <a className='htitle' href={obj.url} >{obj.title}</a>\n        }\n      }\n\n      if (obj.li) {\n        title = (\n          <div className='itemCategory'>\n            {itemrootCkb}\n            <div className=\"caption\">{title}</div>\n            {dealWithLi(obj.li)}\n          </div>\n        )\n      }\n    }\n  }\n  return title\n}\n\n\n// function normalItem(obj){\n//   if (typeof obj === 'string' || typeof obj === 'number' || React.isValidElement(obj)) return obj\n//   else if (Array.isArray(obj)){\n//     return dealWithLi(obj)\n//   } else {\n//     if (obj.title){\n//       let title = obj.title\n//       if (obj.url && (typeof title == 'string' || typeof title == 'number')) {\n//         title = <a className='htitle' href={obj.url} >{obj.title}</a>\n//       }\n//       if (obj.li){\n//         let _title = title\n//         if (typeof title == 'string' || typeof title == 'number') {\n//           _title = <span className=\"caption\">{title}</span>\n//         }\n//         title = (\n//           <div className='itemCategory'>\n//             {itemrootCkb}\n//             {_title}\n//             {dealWithLi(obj.li)}\n//           </div>\n//         )\n//       }\n//       return title;\n//     }\n//     else if (obj.li) return dealWithLi(obj.li)\n//     return '';\n//   }\n// }\n\nfunction dealWithLi(prop_li, liClassName='property-ul'){\n  var lis = []\n  if(Array.isArray(prop_li)){\n    prop_li.map(function(li_item, li_i){\n      if (typeof li_item != 'object') {\n        li_item = {title: li_item}\n      }\n      var _item = normalItem(li_item);\n      var _liItem;\n      var _props = { \"key\": uniqueId('li-') }\n      if (Array.isArray(li_item)){\n         _props.className = \"nextLevel2\";\n         _liItem = React.createElement('li', _props, _item)\n      } else {\n        if (isPlainObject(li_item.attr)){\n          let data_attr = {};\n          mapKeys(li_item.attr, function(value, key) {\n            if (key.indexOf('data-')>-1) data_attr[key] = value;\n            else {\n              switch (key) {\n                case 'className':\n                  data_attr['className'] = value\n                break;\n                case 'style':\n                  data_attr['style'] = value\n                break;\n                default:\n                  data_attr['data-'+key] = value;\n              }\n            }\n          });\n          _props = merge(_props, data_attr);\n        }\n        if (li_item.li) {   // itemroot\n          _props.className = li_item.itemClass ? li_item.itemClass+' itemroot' : 'itemroot'\n        } else {\n          _props.className = li_item.itemClass ? li_item.itemClass : ''\n        }\n        _liItem = React.createElement('li', _props, _item)\n      }\n      lis.push(_liItem)\n    })\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n  else{\n    lis.push(<li key={'li-'+li_i}>{prop_li}</li>)\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n}\n\n/*\n* 数据处理部分\n* f_div / f_li 的公共数据处理部分\n*/\nfunction dealWithData(state){\n   var clsName = \"item\";\n   var itemStyle = '';\n   var sty = {};\n   var wid = '';\n   const _state = state\n   var data = _state.data\n   var hoc = _state.hoc\n   var items = [];\n\n   if(_state.itemClass) clsName = \"item \"+_state.itemClass\n\n   if(data){\n     if(!Array.isArray(data)){\n       var body;\n       var footer;\n       var dot;\n\n       var bodys = []\n       var footers = []\n       var dots = []\n\n       var headerDom;\n       var bodyDom;\n       var footerDom;\n       var dotDom;\n       var liDom;\n\n       var __keys = [];\n       var __sorts = [];\n\n       if (typeof data == 'string' || typeof data== 'number' || React.isValidElement(data)) {\n         data = {title: data}\n       }\n\n       if(data.itemClass) clsName = \"item \"+data.itemClass\n       if(data.itemStyle){\n        //  clsName = 'item';\n         sty = data.itemStyle;\n       }\n\n      //  var ref = data.foxref\n       var ref = _state.foxref\n       var k1 = data.id||'',\n         v1 = data.url||'javascript:void();',\n         k2 = data.title||data.caption||data.catName||data.text||data.model||data.quality||data.vender||'',\n         v2 = data.attr||'',\n         k3, v3 = data.value||'',\n         k4, v4 = data.content\n\n       if (data.url) {\n        //  k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        k2 = <a className='htitle' href={v1}>{k2}</a>\n        if (data.target) {\n          k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        }\n       }\n\n       if(data.li){\n         let property_ul_className = 'property-ul'\n         if (data.liClassName) {\n           property_ul_className += ' ' + data.liClassName\n         }\n         k3 = dealWithLi(data.li, property_ul_className)\n       }\n\n       if(data.img){\n         if(Array.isArray(data.img)){\n           var tmp_k2 = [];\n           tmp_k2 = data.img.map( (pic,j) => lazyimg.call({hoc: hoc}, pic, j) )\n           k4 = <ul className=\"himg\">{tmp_k2}</ul>;\n          //  k4 = k2 = <ul className=\"himg\">{tmp_k2}</ul>;\n         } else{\n           k4 = lazyimg.call({hoc: hoc}, data.img)\n         }\n       }\n\n       if(data.body){\n         body = data.body;\n         if(!Array.isArray(body)) body = [ body ]\n\n         body.map(function(item,i){\n           if(typeof item==='string'|| typeof item==='number'){\n             bodys.push(<div data-pid={i} key={'body_'+i}>{item}</div>)\n           }\n           if(isPlainObject(item)){\n             var cls = item.caption?'hb-item caption':'hb-item';\n             if(!React.isValidElement(item)){\n               var title = item.title||item.caption||item.text;\n               if (React.isValidElement(title)) {\n                //  let props = cloneDeep(title.props)\n                //  props.key = 'body_'+i\n                //  title = React.createElement(title.type, props)\n                 title = React.cloneElement(title, {key: 'body_'+i})\n               }\n               else\n               if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                 title = <a className='htitle' href={item.url} key={'body_'+i}>{title}</a>\n               }\n\n               var ppp = (function(){\n                 if (item.k){  //k v结构\n                   return  <div key={'bodyk-'+i} data-pid={i} className={cls}>{title}{item.k}{item.v}</div>\n                 }\n                 if (item.li){  //li结构\n                   let property_ul_className = 'property-ul'\n                   if (item.liClassName) {\n                     property_ul_className += ' ' + item.liClassName\n                   }\n                   var lis = dealWithLi(item.li, property_ul_className)\n                   return <div key={'bodyul-'+i} className={cls}>{title}{lis}</div>\n                 }\n                 return title\n               })()\n               bodys.push(ppp)\n             }else{\n               let props = merge({}, item.props)\n               props.key = 'bodyitem_'+i\n               bodys.push(React.createElement(item.type, props))\n             }\n           }\n         })\n       }\n\n       if(data.footer){\n           footer = data.footer;\n           if(!Array.isArray(footer)) footer = [ footer ]\n\n           footer.map(function(item,i){\n             if(typeof item==='string'|| typeof item==='number'){\n               footers.push(<div data-pid={i} key={'footer'+i}>{item}</div>)\n             }\n             if(isPlainObject(item)){\n                 var cls = item.caption?'hf-item caption':'hf-item';\n                 if(!React.isValidElement(item)){\n                   var title = item.title||item.caption||item.text;\n                   if (React.isValidElement(title)) {\n                    //  let props = cloneDeep(title.props)\n                    //  props.key = 'footer_'+i\n                    //  title = React.createElement(title.type, props)\n                    title = React.cloneElement(title, {key: 'footer_'+i})\n                   }\n                   else\n                   if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n\n                   //attr定义一些特殊的状态\n                   var ppp = (function(){\n                     if (item.k) { //k v结构\n                       return <div data-pid={i} key={'footer'+i} className={cls}>{title}{item.k}{item.v}</div>\n                     }\n                     if (item.li){  //li结构\n                       let property_ul_className = 'property-ul'\n                       if (item.liClassName) {\n                         property_ul_className += ' ' + item.liClassName\n                       }\n                       var lis = dealWithLi(item.li, property_ul_className)\n                       return <div key={'footerul'+i} className={cls}>{title}{lis}</div>\n                     }\n                     return title\n                   })()\n                   footers.push(ppp)\n                 }else{\n                   let props = merge({}, item.props)\n                   props.key = 'footer_'+i\n                   footers.push(React.createElement(item.type, props))\n                 }\n             }\n           })\n       }\n\n       if(data.dot){\n           dot = data.dot;\n           if(!Array.isArray(dot)) dot = [ dot ]\n\n           dot.map(function(item,i){\n               if(typeof item==='string'|| typeof item==='number'){\n                 dots.push(<div key={'dot-'+i} data-did={i} key={'dot'+i} className={'dot'}>{item}</div>)\n               }\n               if(isPlainObject(item)){\n                 if(React.isValidElement(item)){\n                   var it = item;\n                  //  var props = cloneDeep(it.props)\n                  //  var styl = props.style;\n                  //  delete props.style;\n                  //  var tmp = React.createElement(it.type, props, it.props.children)\n\n                   var styl = props.style\n                   var tmp = React.cloneElement(it, {style: {}})\n                   dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}>{tmp}</div>)\n                 }\n                 else {\n                   var lft, top, botm, rht;\n                   if(item.position){\n                     lft = item.position.left\n                     top = item.position.top\n                     botm = item.position.bottom\n                     rht = item.position.right\n                   }\n\n                   var styl = (function(){\n                     var kkk = {}\n                       lft ? kkk.left = lft : '';\n                       top ? kkk.top  = top : '';\n                       botm ? kkk.bottom = botm : '';\n                       rht ? kkk.right = rht : '';\n                       return kkk;\n                   })()\n\n                   var title = item.title||item.caption||item.text||item.price;\n                   if (title &&\n                     typeof title==='string' &&\n                     item.url &&\n                     typeof item.url==='string'\n                   ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n                   if(title){\n                     dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}><div>{title}</div></div>)\n                   }\n                 }\n               }\n           })\n       }\n\n       if (k3) liDom = k3\n\n       if (isPlainObject(data)) {\n         __sorts = []\n         const accessSortsKeys = ['title', 'img', 'li']\n         Object.keys(data).forEach( function(key, ii){\n           if (accessSortsKeys.indexOf(key)>-1) __sorts.push(key)\n         })\n\n         const len = __sorts.length\n         if (len) {\n           if (len == 1) __sorts = __sorts.concat([undefined, undefined])\n           if (len ==2) __sorts = __sorts.concat(undefined)\n         } else {\n           __sorts = [undefined, undefined, undefined]\n         }\n       }\n\n       // 排序header的三个部件，title, img, li\n       function sortMyHead(){\n         return __sorts.map(function(item) { \n           switch (item) {\n             case 'title':\n               return k2 ? k2 : undefined\n               break;\n             case 'img':\n               return k4 ? k4 : undefined\n               break;\n             case 'li':\n               return liDom ? liDom : undefined\n               break;\n            }\n         })\n       }\n\n       if (k2 || k3 || k4) {\n         const sortDom = sortMyHead()\n         headerDom = (\n           <div className={\"hheader\"}>\n             {sortDom[0]}\n             {sortDom[1]}\n             {sortDom[2]}\n           </div>\n         )\n       }\n\n      //  if(k2 || k3 || k4){\n      //    headerDom = liDom\n      //    ? (data.img && Array.isArray(data.img)\n      //      ? <div className={\"hheader\"}>{k2}{liDom}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}{k4}{liDom}</div>)\n      //    : (data.img\n      //      ? <div className={\"hheader\"}>{k2}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}</div>)\n      //  }\n\n       if(bodys.length){\n         bodyDom = data.img && Array.isArray(data.img)\n         ? <div className={'hbody rebody'}>{bodys}</div>\n         : <div className={'hbody'}>{bodys}</div>\n       }\n\n       if(footers.length) footerDom = <div className={'hfoot'}>{footers}</div>\n       if(dots.length) dotDom = dots\n     }\n   }\n\n\n   var fill = Array.isArray(data)\n   ? items\n   : (\n      ( k4 || (bodyDom || footerDom || dotDom) )\n      ? <div className={'inner'}>{headerDom}{bodyDom}{footerDom}{dotDom}</div>\n      : liDom\n        ? k2\n          ? ( React.isValidElement(k2)\n            ? <div className=\"itemCategory\">{itemrootCkb}{k2}{liDom}</div>\n            : <div className=\"itemCategory\">{itemrootCkb}<span className=\"caption\">{k2}</span>{liDom}</div> )\n          : liDom\n        : k2\n     )\n\n   return {\n     ref: ref,\n     k1: k1,\n     v1: v1,\n     k2: k2,\n     v2: v2,\n     clsName: clsName,\n     sty: sty,\n     fill: fill\n   }\n}\n\nmodule.exports = dealWithData;\n"]}