{"version":3,"sources":["itemview/common/itemDealWithData.js"],"names":["cloneDeep","Aotoo","merge","uniqueId","isPlainObject","filter","mapKeys","obj","cb","keys","Object","map","item","ii","itemrootCkb","lazyimg","img","idf","indexOf","tmp","split","length","normalItem","React","isValidElement","Array","isArray","dealWithLi","title","url","li","_title","prop_li","liClassName","lis","li_item","li_i","_item","_liItem","_props","className","createElement","attr","data_attr","value","key","itemClass","push","dealWithData","state","clsName","itemStyle","sty","wid","_state","data","hoc","items","sortMyHead","__sorts","k2","undefined","k4","liDom","body","footer","dot","bodys","footers","dots","headerDom","bodyDom","footerDom","dotDom","__keys","ref","foxref","k1","id","v1","caption","catName","text","model","quality","vender","v2","k3","v3","v4","content","target","tmp_k2","pic","j","call","i","cls","props","type","ppp","k","v","it","styl","style","children","lft","top","botm","rht","position","left","bottom","right","kkk","price","accessSortsKeys","forEach","len","concat","sortDom","fill","module","exports"],"mappings":"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","file":"../../../itemview/common/itemDealWithData.js","sourcesContent":["const cloneDeep = Aotoo.cloneDeep\nconst merge = Aotoo.merge\nconst uniqueId = Aotoo.uniqueId\nconst isPlainObject = Aotoo.isPlainObject\nconst filter = Aotoo.filter\n\nvar mapKeys = function(obj, cb){\n  const keys = Object.keys(obj)\n  return keys.map(function(item, ii){\n    cb(obj[item], item)\n  })\n}\n\n// var isPlainObject = function(obj){\n//   if (typeof obj == 'object') {\n//     return !Array.isArray(obj)\n//   }\n// }\n\nconst itemrootCkb = <input type='checkbox' className='itemrootCkb'/>\n\nfunction lazyimg(img, idf){\n  // const hoc = this.hoc || []\n  // if ( hoc.indexOf('scroll') >-1 ){\n  //   if (img.indexOf('$$$')>-1){\n  //     var tmp = img.split('$$$')\n  //     if (tmp.length===2){\n  //       if (idf) return <li key={'img'+idf} className='himg-item lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} />\n  //       return <div className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]}/>\n  //     }\n  //   }\n  //   else{\n  //     if (idf) return <li data-iid={idf} key={'img'+idf} className=\"himg-item lazyimg\" data-imgsrc={img}></li>\n  //     return <div className=\"himg lazyimg\" data-imgsrc={img} ></div>\n  //   }\n  // }\n  if (img.indexOf('$$$')>-1){\n    var tmp = img.split('$$$')\n    if (tmp.length===2){\n      if (idf) return <li key={'img'+idf} className='himg-item lazyimg'><img data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/></li>\n      return <img className='himg lazyimg' data-imgsrc={tmp[1]} data-imgtmp={tmp[0]} src={tmp[0]}/>\n    }\n  }\n  else{\n    if (idf) return <li data-iid={idf} key={'img'+idf} className=\"himg-item\" ><img data-imgsrc={img} src={img}/></li>\n    return <img className=\"himg\" data-imgsrc={img} src={img}/>\n  }\n}\n\n// 处理title及url\n// 处理li的相关数据\nfunction normalItem(obj){\n  if (typeof obj === 'string' || typeof obj === 'number' || React.isValidElement(obj)) return obj\n  else if (Array.isArray(obj)){\n    return dealWithLi(obj)\n  } else {\n    if (obj.title){\n      let title = obj.title\n      if (obj.url && (typeof title == 'string' || typeof title == 'number')) {\n        title = <a className='htitle' href={obj.url} >{obj.title}</a>\n      }\n      if (obj.li){\n        let _title = title\n        if (typeof title == 'string' || typeof title == 'number') {\n          _title = <span className=\"caption\">{title}</span>\n        }\n        title = (\n          <div className='itemCategory'>\n            {itemrootCkb}\n            {_title}\n            {dealWithLi(obj.li)}\n          </div>\n        )\n      }\n      return title;\n    }\n    else if (obj.li) return dealWithLi(obj.li)\n    return '';\n  }\n}\n\nfunction dealWithLi(prop_li, liClassName){\n  var lis = []\n  if(Array.isArray(prop_li)){\n    prop_li.map(function(li_item, li_i){\n      var _item = normalItem(li_item);\n      var _liItem;\n      var _props = { \"key\": uniqueId('li-') }\n      if (Array.isArray(li_item)){\n         _props.className = \"nextLevel2\";\n         _liItem = React.createElement('li', _props, _item)\n      } else {\n        if (isPlainObject(li_item.attr)){\n          let data_attr = {};\n          mapKeys(li_item.attr, function(value, key) {\n            if (key.indexOf('data-')>-1) data_attr[key] = value;\n            else {\n              switch (key) {\n                case 'className':\n                  data_attr['className'] = value\n                break;\n                case 'style':\n                  data_attr['style'] = value\n                break;\n                default:\n                  data_attr['data-'+key] = value;\n              }\n            }\n          });\n          _props = merge(_props, data_attr);\n        }\n        if (li_item.li) {   // itemroot\n          _props.className = li_item.itemClass ? li_item.itemClass+' itemroot' : 'itemroot'\n        } else {\n          _props.className = li_item.itemClass ? li_item.itemClass : ''\n        }\n        _liItem = React.createElement('li', _props, _item)\n      }\n      lis.push(_liItem)\n    })\n    return React.createElement('ul', {\n      className: liClassName\n    }, lis)\n  }\n  else{\n    lis.push(<li key={'li-'+li_i}>{prop_li}</li>)\n    return <ul>{lis}</ul>\n  }\n}\n\n/*\n* 数据处理部分\n* f_div / f_li 的公共数据处理部分\n*/\nfunction dealWithData(state){\n   var clsName = \"item\";\n   var itemStyle = '';\n   var sty = {};\n   var wid = '';\n   const _state = state\n   var data = _state.data\n   var hoc = _state.hoc\n   var items = [];\n\n   if(_state.itemClass) clsName = \"item \"+_state.itemClass\n\n   if(data){\n     if(!Array.isArray(data)){\n       var body;\n       var footer;\n       var dot;\n\n       var bodys = []\n       var footers = []\n       var dots = []\n\n       var headerDom;\n       var bodyDom;\n       var footerDom;\n       var dotDom;\n       var liDom;\n\n       var __keys = [];\n       var __sorts = [];\n\n       if (typeof data == 'string' || typeof data== 'number' || React.isValidElement(data)) {\n         data = {title: data}\n       }\n\n       if(data.itemClass) clsName = \"item \"+data.itemClass\n       if(data.itemStyle){\n        //  clsName = 'item';\n         sty = data.itemStyle;\n       }\n\n      //  var ref = data.foxref\n       var ref = _state.foxref\n       var k1 = data.id||'',\n         v1 = data.url||'javascript:void();',\n         k2 = data.title||data.caption||data.catName||data.text||data.model||data.quality||data.vender||'',\n         v2 = data.attr||'',\n         k3, v3 = data.value||'',\n         k4, v4 = data.content\n\n       if (data.url) {\n        //  k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        k2 = <a className='htitle' href={v1}>{k2}</a>\n        if (data.target) {\n          k2 = <a href={v1} target=\"_blank\">{k2}</a>\n        }\n       }\n\n       if(data.li){\n         k3 = dealWithLi(data.li, data.liClassName)\n       }\n\n       if(data.img){\n         if(Array.isArray(data.img)){\n           var tmp_k2 = [];\n           tmp_k2 = data.img.map( (pic,j) => lazyimg.call({hoc: hoc}, pic, j) )\n           k4 = <ul className=\"himg\">{tmp_k2}</ul>;\n          //  k4 = k2 = <ul className=\"himg\">{tmp_k2}</ul>;\n         } else{\n           k4 = lazyimg.call({hoc: hoc}, data.img)\n         }\n       }\n\n       if(data.body){\n         body = data.body;\n         if(!Array.isArray(body)) body = [ body ]\n\n         body.map(function(item,i){\n           if(typeof item==='string'|| typeof item==='number'){\n             bodys.push(<div data-pid={i} key={'body_'+i}>{item}</div>)\n           }\n           if(isPlainObject(item)){\n             var cls = item.caption?'hb-item caption':'hb-item';\n             if(!React.isValidElement(item)){\n               var title = item.title||item.caption||item.text;\n               if (React.isValidElement(title)) {\n                 let props = cloneDeep(title.props)\n                 props.key = 'body_'+i\n                 title = React.createElement(title.type, props)\n               }\n               else\n               if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                 title = <a className='htitle' href={item.url} key={'body_'+i}>{title}</a>\n               }\n\n               var ppp = (function(){\n                 if (item.k){  //k v结构\n                   return  <div key={'bodyk-'+i} data-pid={i} className={cls}>{title}{item.k}{item.v}</div>\n                 }\n                 if (item.li){  //li结构\n                   var lis = dealWithLi(item.li)\n                   return <div key={'bodyul-'+i} className={cls}>{title}{lis}</div>\n                 }\n                 return title\n               })()\n               bodys.push(ppp)\n             }else{\n               let props = merge({}, item.props)\n               props.key = 'bodyitem_'+i\n               bodys.push(React.createElement(item.type, props))\n             }\n           }\n         })\n       }\n\n       if(data.footer){\n           footer = data.footer;\n           if(!Array.isArray(footer)) footer = [ footer ]\n\n           footer.map(function(item,i){\n             if(typeof item==='string'|| typeof item==='number'){\n               footers.push(<div data-pid={i} key={'footer'+i}>{item}</div>)\n             }\n             if(isPlainObject(item)){\n                 var cls = item.caption?'hf-item caption':'hf-item';\n                 if(!React.isValidElement(item)){\n                   var title = item.title||item.caption||item.text;\n                   if (React.isValidElement(title)) {\n                     let props = cloneDeep(title.props)\n                     props.key = 'footer_'+i\n                     title = React.createElement(title.type, props)\n                   }\n                   else\n                   if ( (typeof title==='string'||typeof title=='number') && typeof item.url==='string' ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n\n                   //attr定义一些特殊的状态\n                   var ppp = (function(){\n                     if (item.k) { //k v结构\n                       return <div data-pid={i} key={'footer'+i} className={cls}>{title}{item.k}{item.v}</div>\n                     }\n                     if (item.li){  //li结构\n                       var lis = dealWithLi(item.li)\n                       return <div key={'footerul'+i} className={cls}>{title}{lis}</div>\n                     }\n                     return title\n                   })()\n                   footers.push(ppp)\n                 }else{\n                   let props = merge({}, item.props)\n                   props.key = 'footer_'+i\n                   footers.push(React.createElement(item.type, props))\n                 }\n             }\n           })\n       }\n\n       if(data.dot){\n           dot = data.dot;\n           if(!Array.isArray(dot)) dot = [ dot ]\n\n           dot.map(function(item,i){\n               if(typeof item==='string'|| typeof item==='number'){\n                 dots.push(<div key={'dot-'+i} data-did={i} key={'dot'+i} className={'dot'}>{item}</div>)\n               }\n               if(isPlainObject(item)){\n                 if(React.isValidElement(item)){\n                   var it = item;\n                   var props = cloneDeep(it.props)\n                   var styl = props.style;\n                   delete props.style;\n                   var tmp = React.createElement(it.type, props, it.props.children)\n                   dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}>{tmp}</div>)\n                 }\n                 else {\n                   var lft, top, botm, rht;\n                   if(item.position){\n                     lft = item.position.left\n                     top = item.position.top\n                     botm = item.position.bottom\n                     rht = item.position.right\n                   }\n\n                   var styl = (function(){\n                     var kkk = {}\n                       lft ? kkk.left = lft : '';\n                       top ? kkk.top  = top : '';\n                       botm ? kkk.bottom = botm : '';\n                       rht ? kkk.right = rht : '';\n                       return kkk;\n                   })()\n\n                   var title = item.title||item.caption||item.text||item.price;\n                   if (title &&\n                     typeof title==='string' &&\n                     item.url &&\n                     typeof item.url==='string'\n                   ){\n                     title = <a className='htitle' href={item.url}>{title}</a>\n                   }\n                   if(title){\n                     dots.push(<div data-did={i} key={'dot'+i} className={'dot'} style={styl}><div>{title}</div></div>)\n                   }\n                 }\n               }\n           })\n       }\n\n       if (k3) liDom = k3\n\n       if (isPlainObject(data)) {\n         __sorts = []\n         const accessSortsKeys = ['title', 'img', 'li']\n         Object.keys(data).forEach( function(key, ii){\n           if (accessSortsKeys.indexOf(key)>-1) __sorts.push(key)\n         })\n\n         const len = __sorts.length\n         if (len) {\n           if (len == 1) __sorts = __sorts.concat([undefined, undefined])\n           if (len ==2) __sorts = __sorts.concat(undefined)\n         } else {\n           __sorts = [undefined, undefined, undefined]\n         }\n       }\n\n       // 排序header的三个部件，title, img, li\n       function sortMyHead(){\n         return __sorts.map(function(item) { \n           switch (item) {\n             case 'title':\n               return k2 ? k2 : undefined\n               break;\n             case 'img':\n               return k4 ? k4 : undefined\n               break;\n             case 'li':\n               return liDom ? liDom : undefined\n               break;\n            }\n         })\n       }\n\n       if (k2 || k3 || k4) {\n         const sortDom = sortMyHead()\n         headerDom = (\n           <div className={\"hheader\"}>\n             {sortDom[0]}\n             {sortDom[1]}\n             {sortDom[2]}\n           </div>\n         )\n       }\n\n      //  if(k2 || k3 || k4){\n      //    headerDom = liDom\n      //    ? (data.img && Array.isArray(data.img)\n      //      ? <div className={\"hheader\"}>{k2}{liDom}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}{k4}{liDom}</div>)\n      //    : (data.img\n      //      ? <div className={\"hheader\"}>{k2}{k4}</div>\n      //      : <div className={\"hheader\"}>{k2}</div>)\n      //  }\n\n       if(bodys.length){\n         bodyDom = data.img && Array.isArray(data.img)\n         ? <div className={'hbody rebody'}>{bodys}</div>\n         : <div className={'hbody'}>{bodys}</div>\n       }\n\n       if(footers.length) footerDom = <div className={'hfoot'}>{footers}</div>\n       if(dots.length) dotDom = dots\n     }\n   }\n\n\n   var fill = Array.isArray(data)\n   ? items\n   : (\n      ( k4 || (bodyDom || footerDom || dotDom) )\n      ? <div className={'inner'}>{headerDom}{bodyDom}{footerDom}{dotDom}</div>\n      : liDom\n        ? k2\n          ? ( React.isValidElement(k2)\n            ? <div className=\"itemCategory\">{itemrootCkb}{k2}{liDom}</div>\n            : <div className=\"itemCategory\">{itemrootCkb}<span className=\"caption\">{k2}</span>{liDom}</div> )\n          : liDom\n        : k2\n     )\n\n   return {\n     ref: ref,\n     k1: k1,\n     v1: v1,\n     k2: k2,\n     v2: v2,\n     clsName: clsName,\n     sty: sty,\n     fill: fill\n   }\n}\n\nmodule.exports = dealWithData;\n"]}